<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixel Time Tracker</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Боковая навигация -->
        <nav class="sidebar">
            <div class="nav-items">
                <button class="nav-item active" data-screen="main">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>Главная</span>
                </button>
                <button class="nav-item" data-screen="stats">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M18 20V10M12 20V4M6 20v-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>Статистика</span>
                </button>
                <button class="nav-item" data-screen="profile">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2M12 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>Профиль</span>
                </button>
                <button class="nav-item" data-screen="settings">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 1 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9c.26.604.852.997 1.51 1H21a2 2 0 1 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>Настройки</span>
                </button>
            </div>
        </nav>

        <!-- Основной контент -->
        <main class="main-content">
            <!-- Главный экран -->
            <div class="screen active" id="main-screen">
                <header class="welcome-header">
                    <h1>Pixel Time Tracker</h1>
                    <div class="user-info">
                        <span id="username" class="username"></span>
                        <span id="currentDate" class="current-date"></span>
                    </div>
                </header>

                <section class="current-task">
                    <h2>Текущая задача</h2>
                    <div class="task-input-group">
                        <input type="text" id="taskInput" placeholder="Введите название задачи">
                        <select id="categorySelect">
                            <option value="work">Работа</option>
                            <option value="study">Учеба</option>
                            <option value="hobby">Хобби</option>
                            <option value="other">Другое</option>
                        </select>
                    </div>
                    <div class="timer-display">
                        <div id="timer">00:00:00</div>
                        <div class="timer-controls">
                            <button id="startTaskBtn" class="primary-button">Начать</button>
                            <button id="finishTaskBtn" class="secondary-button hidden">Завершить</button>
                        </div>
                    </div>
                </section>

                <section class="activity-chart">
                    <h2>Активность за сегодня</h2>
                    <div class="chart-container" id="activityChart"></div>
                </section>

                <button id="addTaskManually" class="floating-button">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
            </div>

            <!-- Экран статистики -->
            <div class="screen" id="stats-screen">
                <h2>Статистика</h2>
                <div class="stats-container">
                    <div class="stats-card">
                        <h3>За сегодня</h3>
                        <div id="todayStats"></div>
                    </div>
                    <div class="stats-card">
                        <h3>За неделю</h3>
                        <div id="weekStats"></div>
                    </div>
                </div>
            </div>

            <!-- Экран профиля -->
            <div class="screen" id="profile-screen">
                <div class="profile-container">
                    <div class="profile-header">
                        <div class="profile-avatar">
                            <img id="userAvatar" src="" alt="Аватар">
                        </div>
                        <div class="profile-info">
                            <h2 id="profileUsername"></h2>
                            <div class="level-info">
                                <span>Уровень: <span id="userLevel">1</span></span>
                                <div class="xp-bar">
                                    <div id="xpProgress" class="xp-progress"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="achievements-section">
                        <h3>Достижения</h3>
                        <div id="achievementsList" class="achievements-grid"></div>
                    </div>
                </div>
            </div>

            <!-- Экран настроек -->
            <div class="screen" id="settings-screen">
                <h2>Настройки</h2>
                <div class="settings-container">
                    <div class="settings-group">
                        <h3>Внешний вид</h3>
                        <div class="setting-item">
                            <label for="themeSelect">Тема</label>
                            <select id="themeSelect">
                                <option value="light">Светлая</option>
                                <option value="dark">Темная</option>
                            </select>
                        </div>
                    </div>
                    <div class="settings-group">
                        <h3>Уведомления</h3>
                        <div class="setting-item">
                            <label for="notificationsToggle">Уведомления</label>
                            <input type="checkbox" id="notificationsToggle">
                        </div>
                        <div class="setting-item">
                            <label for="breakReminder">Напоминание о перерыве</label>
                            <select id="breakReminder">
                                <option value="30">Каждые 30 минут</option>
                                <option value="45">Каждые 45 минут</option>
                                <option value="60">Каждый час</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <div id="error" class="error-message hidden"></div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html> 